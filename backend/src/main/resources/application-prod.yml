# ════════════════════════════════════════════════
# HiveApp Platform — Production Profile
# ════════════════════════════════════════════════

spring:
  # ── Database ─────────────────────────────────
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    hikari:
      maximum-pool-size: 25
      minimum-idle: 10
      connection-timeout: 20000
      idle-timeout: 300000
      max-lifetime: 1200000
      leak-detection-threshold: 60000

  # ── Redis ────────────────────────────────────
  data:
    redis:
      host: ${SPRING_DATA_REDIS_HOST}
      port: ${SPRING_DATA_REDIS_PORT:6379}
      password: ${SPRING_DATA_REDIS_PASSWORD}
      timeout: 5000
      lettuce:
        pool:
          max-active: 16
          max-idle: 8
          min-idle: 4

  # ── JPA ──────────────────────────────────────
  jpa:
    show-sql: false
    properties:
      hibernate:
        generate_statistics: false

# ── Logging ──────────────────────────────────
logging:
  level:
    root: WARN
    com.hiveapp: INFO
    org.springframework.security: WARN
    org.hibernate: WARN

# ── Server ───────────────────────────────────
server:
  error:
    include-message: never
    include-binding-errors: never
    include-stacktrace: never

# ── HiveApp ──────────────────────────────────
hiveapp:
  jwt:
    secret: ${HIVEAPP_JWT_SECRET}
  security:
    cors:
      allowed-origins: ${HIVEAPP_CORS_ORIGINS:https://app.hiveapp.com}
